<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="main.css" rel="stylesheet">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" ></script>
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Brutto Netto</title>
</head>
<body>

<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light navbar-custom">
  <a class="navbar-brand" href="#">Navbar</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
       <a class="nav-link" href="#">Link</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" href="#">Disabled</a>
      </li>
    </ul>
   </div>
</nav>

    <div class="container-fluid d-none d-md-block">
        <div class="row">
        <div class="top">
        </div>
        <div class="bottom">
        </div>
        </div>
    </div>

    <div class="container main-calc" id="primary">
        <div class="row">
            <div class="top-calc col-xs-12 d-md-none">
                Hello!
            </div>
            <div class="left-calc col-xs-12 col-sm-12 col-md-8">
            <div class="top-calc-tabs d-none d-md-block ">
             <div class="calc-tabs " id="tabs">
             <span class="fast active" onclick="fast(this);" id="fast" > Schnell </span>
             <span class="extend" onclick="extend(this);" id="extend"> Detailiert</span>
                    </div>
                </div>
                <form id="rechner" action="/" class="gr-homepage form-horizontal" name="rechner" method="post">
<script type="text/javascript">var kk_zusatz = {0:'1.1',1:'0.9',2:'0.9',3:'0.8',4:'0.9',5:'0.9',6:'0.6',7:'0.9',8:'1.1',9:'1.2',10:'1.1',11:'1.1',12:'1.5',13:'0.39',14:'1.2',15:'1.5',16:'1.5',17:'1.1',18:'0.98',19:'1.3',20:'0.7',21:'1.7',};</script>
<div id="form_salary_brutto " class="form-group flex1" style="justify-content: center;">
<div class="col-xs-3 col-sm-5 col-lg-5 col-lg-offset-2 pr0">
<select name="salary_data[modus]" class="form-control modusSwitch" id="salary_data_modus">
<option value="BN">Ihr Bruttolohn *</option>
<option value="NB">Ihr Wunschnettolohn *</option>
</select>
</div>
<div class="col-xs-3 col-sm-5  col-md-5 col-lg-5">
<div class="input-group">
<input pattern="[0-9]+([\.,][0-9]+)?" step="0.01" min="1" placeholder="2890,00" type="number" name="salary_data[salary_brutto]" class="form-control" id="salary" onchange="calculateTotal();">
<span class="input-group-addon">€</span>
</div>
</div>
</div>

<div class="extended_form " id="hidden1">
<div id="form_period" class="form-group flex1" style="justify-content: center;">
<label class="col-xs-6 col-sm-5 col-lg-5 control-label" for="salary_data_period">Abrechnungszeitraum­</label>
<div class="col-xs-6 col-sm-5  col-md-5 col-lg-5">
  <div class="form-check-inline">
  <label class="form-check-label">
    <input  name="salary_data_period" class="form-check-input" type="radio" value="1" id="salary_period_data_1" checked="checked"> <label for="salary_period_data1">Monat</label>
  </label>
</div>
<div class="form-check-inline">
  <label class="form-check-label">
    <input  name="salary_data_period" class="form-check-input" type="radio" value="1" id="salary_period_data_2" checked="checked" > <label for="salary_period_data2">Jahr</label>
  </label>
</div>
</div>
</div>
<div id="form_bav_brutto" class="form-group flex1" style="justify-content: center;">
<label class="col-xs-6 col-sm-5 col-lg-5 control-label" for="salary_data_bav_brutto">betriebliche Alters­vorsorge</label>
<div class="col-xs-6 col-sm-5  col-md-5 col-lg-5">
<div class="input-group">
<span class="input-group-addon first hidden-xs">
<a href="/public/popups/altersvorsorge.html" rel="#tooltip_altersvorsorge" class="jt">
<i class="fa fa-info fs18" title="Altersvorsorge"></i>
</a>
</span>
<input step="0.01" min="1" type="number" name="salary_data[bav_brutto]" value="" class="form-control" id="salary_data_bav_brutto">
<span class="input-group-addon">€/mtl.</span>
</div>
</div>
</div>
<div id="form_gwv_brutto" class="form-group flex1" style="justify-content: center; line-height: 1; margin-bottom: 15px;">
<label for="salary_data_gwv_brutto" class="col-xs-6 col-sm-5 col-lg-5 control-label">
Geldwerter Vorteil
<a class="fnone calc-link" href="/rechner/firmenwagenrechner.html"><br>zum Firmenwagenrechner</a>
</label>
<div class="col-xs-6 col-sm-5  col-md-5 col-lg-5">
<div class="input-group">
<span class="input-group-addon first hidden-xs">
<a href="/public/popups/gwvorteil.html" rel="#tooltip_geldwerter_vorteil" class="jt">
<i class="fa fa-info fs18" title="Geldwerter Vorteil"></i>
</a>
</span>
<input step="0.01" min="1" type="number" name="salary_data[gwv_brutto]" class="form-control" id="salary_data_gwv_brutto">
<span class="input-group-addon">€/mtl.</span>
</div>
</div>
</div>
<div class="form-group flex1" id="form_year" style="justify-content: center;">
<label class="col-xs-6 col-sm-5 col-lg-5 control-label" for="salary_data_year">Abrechnungs­jahr</label>
<div class="col-xs-6 col-sm-5  col-md-5 col-lg-5 ">
<select name="salary_data[year]" class="form-control" id="salary_data_year">
<option value="2019" selected="selected">2019</option>
<option value="2018">2018</option>
<option value="2017">2017</option>
<option value="2016">2016</option>
</select>
</div>
</div>
<div id="form_freibetrag" class="form-group flex1" style="justify-content: center;">
<label class="col-xs-6 col-sm-5 col-lg-5 control-label" for="salary_data_freibetrag">Jährl. Steuer­freibetrag</label>
<div class="col-xs-6 col-sm-5  col-md-5 col-lg-5 ">
<div class="input-group">
<span class="input-group-addon first hidden-xs">
<a href="/public/popups/freibetrag.html" rel="#tooltip_freibetrag" class="jt">
<i class="fa fa-info fs18" title="Freibetrag"></i>
</a>
</span>
<input step="0.01" min="1" type="number" name="salary_data[freibetrag]" value="" class="form-control" id="salary_data_freibetrag">
<span class="input-group-addon">€</span>
</div>
</div>
</div>
</div>

<div class="form-group flex1" id="form_tax_class" style="justify-content: center;">
<label class="col-xs-6 col-sm-5 col-lg-5 control-label" for="salary_data_tax_class">Ihre Steuerklasse</label>    <div class="col-xs-6 col-sm-5 col-md-5 col-lg-5 ">
<div class="input-group">
<span class="input-group-addon first hidden-xs">
<a href="/public/popups/steuerklasse.html" rel="#tooltip_steuerklasse" class="jt">
<i class="fa fa-info fs18" title="Steuerklasse"></i>
</a>
</span>
<select name="salary_data[tax_class]" class="form-control" id="taxclass">
<option value="1" selected="selected">Klasse 1</option>
<option value="2">Klasse 2</option>
<option value="3">Klasse 3</option>
<option value="4">Klasse 4</option>
<option value="4f">Klasse 4 mit Faktor</option>
<option value="5">Klasse 5</option>
<option value="6">Klasse 6</option>
</select>
</div>
</div>
</div>

<div class="form-group flex1" id="form_is_church" style="justify-content: center;">
<label class="col-xs-6 col-sm-5 col-lg-5 control-label" for="salary_data_is_church">Zahlen Sie Kirchensteuer</label>   
<div class="col-xs-6 col-sm-5 col-md-5 col-lg-5 ">
<div class="form-check-inline">
  <label class="form-check-label">
    <input  name="salary_data[is_church]" class="form-check-input" type="radio" value="1" id="salary_data_is_church_1" checked="checked"> <label for="salary_data_is_church_1">Ja</label>
  </label>
</div>
<div class="form-check-inline">
  <label class="form-check-label">
    <input  name="salary_data[is_church]" class="form-check-input" type="radio" value="1" id="salary_data_is_church_1" checked="checked"> <label for="salary_data_is_church_1">Nein</label>
  </label>
</div>
</div>
</div>

<div id="form state id" class="form-group flex1" style="justify-content: center;">
<label class="col-xs-6 col-sm-5 col-lg-5 control-label" for="salary_data_state_id">Ihr Bundesland *</label>
<div class="col-xs-6 col-sm-5 col-md-5 col-lg-5 ">
<select name="salary_data[state_id]" class="form-control" id="salary_data_state_id">
<option value="0" selected="selected">Bundesland wählen</option>
<option value="3">Baden-Württemberg</option>
<option value="4">Bayern</option>
<option value="2">Berlin</option>
<option value="1">Brandenburg</option>
<option value="5">Bremen</option>
<option value="7">Hamburg</option>
<option value="6">Hessen</option>
<option value="8">Mecklenburg-Vorpommern</option>
<option value="9">Niedersachsen</option>
<option value="10">Nordrhein-Westfalen</option>
<option value="11">Rheinland-Pfalz</option>
<option value="13">Saarland</option>
<option value="14">Sachsen</option>
<option value="15">Sachsen-Anhalt</option>
<option value="12">Schleswig-Holstein</option>
<option value="16">Thüringen</option>
</select>
</div>
</div>

<div class="extended_form hidden1" style="justify-content: center;">
<div class="form-group flex1" id="form_kv_status" style="justify-content: center;">
<label class="col-xs-6 col-sm-5 col-lg-5 control-label" for="salary_data_kv_status">Kranken­versicherung</label>
<div class=" col-xs-6 col-sm-5 col-md-5 col-lg-5 ">
<select name="salary_data[kv_status]" onchange="showInsurance()" class="form-control" id="insurance_form">
<option value="1" ">gesetzlich pflichtversichert</option>
<option value="2" ">privat versichert</option>
<option value="3">freiwillig gesetzlich versichert</option>
</select>
</div>
</div>

<div class="form-insurances flex1 form-group" id="insurance_pflicht" style="justify-content: center;">
    <label class="col-xs-6 col-sm-5 col-md-5 col-lg-5 ">Kassensatz </label>
    <div class=" col-xs-6 col-sm-5 col-md-5 col-lg-5 ">
        <select class="form-control" id="kasse" onchange="calculateTotal(); " name="insurance_procentage">
            <option selected value="1.1">(1,1%) AOK Bayern</option>
            <option value="0.9">(0,9%) AOK Baden-Würtemberg</option>
            <option value="0.9">(0,9%) AOK Hessen</option>
            <option value="0.8">(0,8%) AOK Niedersachsen</option>
        </select>

    </div>
</div>

<div class="form-group dnone pkv_toggle " id="insurance_private" style="justify-content: center; display: none;">
<label class="col-xs-6 col-sm-5 col-lg-5 control-label" for="salary_data_pkv_brutto">monatl. Prämie zur PKV</label>
<div class="col-xs-6 col-sm-5 col-md-5 col-lg-5 ">
<div class="input-group">
<input step="0.01" min="1" type="number" name="salary_data[pkv_brutto]" value="" class="form-control" id="salary_data_pkv_brutto">
<span class="input-group-addon">€</span>
</div>
</div>

</div>
<div class="form-group flex1" id="insurance_private2" style="justify-content: center; display: none;">
 <label class="col-xs-6 col-sm-5 col-lg-5 control-label">ArbeitgeberBeteiligung?</label>  

</div>
</div>

<div class="form-group flex1" id="form_has_child" style="justify-content: center;">
<label class="col-xs-6 col-sm-5 col-lg-5 control-label" for="salary_data_has_child">Haben Sie Kinder?</label>    <div class="col-xs-6 col-sm-5 col-md-5 col-lg-5 ">
<div class="form-check-inline">
  <label class="form-check-label">
    <input  name="salary_data[has_child]" class="form-check-input" type="radio" value="1" id="salary_data_is_church_1" checked="checked" onclick="alert('test');"> <label for="salary_data_has_child_1">Ja</label>
  </label>
</div>
<div class="form-check-inline">
  <label class="form-check-label">
    <input  name="salary_data[has_child]" class="form-check-input" type="radio" value="1" id="salary_data_is_church_1" checked="checked"> <label for="salary_data_has_child_2">Nein</label>
  </label>
</div>
</div>
</div>

<div class="form-group flex1" id="age" style="justify-content: center;">
    <label class="col-xs-6 col-sm-5 col-lg-5 control-label">Geburstsjahr</label>
    <div class="col-xs-6 col-sm-5 col-md-5 col-lg-5 ">
        <select name="salary_data[state_id]" class="form-control" id="salary_data_state_id">
           <option value="2003">2003</option>
            <option value="2002">2002</option>
            <option value="2001">2001</option>
            <option value="2000">2000</option>
            <option value="1999">1999</option>
            <option value="1998">1998</option>
            <option value="1997">1997</option>
            <option value="1996">1996</option>
            <option value="1995">1995</option>
            <option value="1994">1994</option>
            <option value="1993">1993</option>
            <option value="1992">1992</option>
            <option value="1991">1991</option>
            <option value="1990">1990</option>
            <option value="1989">1989</option>
            <option value="1988">1988</option>
            <option value="1987">1987</option>
            <option value="1986">1986</option>
            <option value="1985">1985</option>
            <option value="1984">1984</option>
            <option value="1983">1983</option>
            <option value="1982">1982</option>
            <option value="1981">1981</option>
            <option value="1980">1980</option>
            <option value="1979">1979</option>
            <option value="1978">1978</option>
            <option value="1977">1977</option>
            <option value="1976">1976</option>
            <option selected value="1975">1975</option>
            <option value="1974">1974</option>
            <option value="1973">1973</option>
            <option value="1972">1972</option>
            <option value="1971">1971</option>
            <option value="1970">1970</option>
            <option value="1969">1969</option>
            <option value="1968">1968</option>
            <option value="1967">1967</option>
            <option value="1966">1966</option>
            <option value="1965">1965</option>
            <option value="1964">1964</option>
            <option value="1963">1963</option>
            <option value="1962">1962</option>
            <option value="1961">1961</option>
            <option value="1960">1960</option>
            <option value="1959">1959</option>
            <option value="1958">1958</option>
            <option value="1957">1957</option>
            <option value="1956">1956</option>
            <option value="1955">1955</option>
            <option value="1954">1954</option>
            <option value="1953">1953</option>
            <option value="1952">1952</option>
            <option value="1951">1951</option>
            <option value="1950">1950</option>
            <option value="1949">1949</option>
            <option value="1948">1948</option>
            <option value="1947">1947</option>
            <option value="1946">1946</option>
            <option value="1945">1945</option>
            <option value="1944">1944</option>
            <option value="1943">1943</option>
           
        </select>
           </div>
        

</div>



                </form>
            </div>
            <div class="right-calc col-sm-4 d-none d-md-block">
                <div class="result">
                    <span class="number" id="result">1337<span class="currency"> €</span> </span>
                    <span class="abzug" id="abzug"></span>
                </div>
            </div>
        </div>
    </div>

<script>
 function calculateTotal(){

    let brutto1 = 0.00;
    var lohnsteuer = 0.00;
    var lohnstclass = document.getElementById('taxclass').value;

    function calclohnsteuer(brutto, lohnstclass) {


    if (brutto * 12 >= 9636 && lohnstclass < 5){
       lohnsteuer = 132.00
    }
    }


    let result = document.getElementById('result');
    let abzug = document.getElementById('abzug');
    let brutto = document.getElementById('salary');
    brutto1 = brutto.value;

    calclohnsteuer(brutto1, lohnstclass);
    console.log(lohnsteuer);

    let kassensatz = document.getElementById('kasse').value;
    console.log(kassensatz);

    let brutton = numberWithCommas(brutto1);
    result.innerHTML = brutton + " €";
    abzug.innerHTML = "-" + lohnsteuer + " €";

    function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}
    }


 function fast(element) {
     let hide = document.getElementById('hidden1');
     let extend = document.getElementById('extend');
     extend.className = extend.className.replace(" active", "");
     hide.style.display = "none";
     element.className += " active";

 }

 function extend(element) {
    let extend = document.getElementById('hidden1');
    let fast = document.getElementById('fast');
    fast.className = fast.className.replace(" active", "");
    extend.style.display = "block";
    element.className += " active";
 }

 function showInsurance() {
    let insurance_form = document.getElementById('insurance_form');
    let insurance = document.getElementById('insurance_pflicht');
    let insurancep = document.getElementById('insurance_private');
    let insurancep2 = document.getElementById('insurance_private2');

     if(insurance_form.selectedIndex === 1){
        insurance.style.display = "none";
        insurancep.style.display = "flex";
        insurancep2.style.display = "flex";
     }
     if(insurance_form.selectedIndex === 2 | insurance_form.selectedIndex === 0){
        insurance.style.display = "";
        insurancep.style.display = "none";
        insurancep2.style.display = "none";
     }

 }

 function showPInsurance(){
     alert("test");
     let insurance = document.getElementById('insurance_pflicht');
     insurance.style.display = "none";
 }
</script>



</body>
</html>

